<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Instrumental Variables | Couscous: A Causal Inference Cookbook in R</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Instrumental Variables | Couscous: A Causal Inference Cookbook in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Instrumental Variables | Couscous: A Causal Inference Cookbook in R" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Theo Obadiah Teguh" />


<meta name="date" content="2024-01-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="rct.html"/>
<link rel="next" href="rdd.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="usage-of-this-book.html"><a href="usage-of-this-book.html"><i class="fa fa-check"></i>Usage of this book</a></li>
<li class="chapter" data-level="" data-path="software-information.html"><a href="software-information.html"><i class="fa fa-check"></i>Software Information</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="rfoundations.html"><a href="rfoundations.html"><i class="fa fa-check"></i><b>1</b> R Foundations</a>
<ul>
<li class="chapter" data-level="1.1" data-path="rfoundations.html"><a href="rfoundations.html#basic-syntax"><i class="fa fa-check"></i><b>1.1</b> Basic Syntax</a></li>
<li class="chapter" data-level="1.2" data-path="rfoundations.html"><a href="rfoundations.html#rfoundations"><i class="fa fa-check"></i><b>1.2</b> Visualization with R</a></li>
<li class="chapter" data-level="1.3" data-path="rfoundations.html"><a href="rfoundations.html#rfoundations"><i class="fa fa-check"></i><b>1.3</b> Visualization with ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="sfoundations.html"><a href="sfoundations.html"><i class="fa fa-check"></i><b>2</b> Statistical Foundations</a>
<ul>
<li class="chapter" data-level="2.1" data-path="sfoundations.html"><a href="sfoundations.html#sfoundations"><i class="fa fa-check"></i><b>2.1</b> P-Values</a></li>
<li class="chapter" data-level="2.2" data-path="sfoundations.html"><a href="sfoundations.html#sfoundations"><i class="fa fa-check"></i><b>2.2</b> Hypothesis Testing</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="regression.html"><a href="regression.html"><i class="fa fa-check"></i><b>3</b> Statistics and Regression with R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="regression.html"><a href="regression.html#linear-regression"><i class="fa fa-check"></i><b>3.1</b> Linear Regression</a></li>
<li class="chapter" data-level="3.2" data-path="regression.html"><a href="regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>3.2</b> Multiple Linear Regression</a></li>
<li class="chapter" data-level="3.3" data-path="regression.html"><a href="regression.html#adding-interaction-variables"><i class="fa fa-check"></i><b>3.3</b> Adding Interaction Variables</a></li>
<li class="chapter" data-level="3.4" data-path="regression.html"><a href="regression.html#putting-it-all-together"><i class="fa fa-check"></i><b>3.4</b> Putting it All Together</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="rct.html"><a href="rct.html"><i class="fa fa-check"></i><b>4</b> Randomized Controlled Trials</a>
<ul>
<li class="chapter" data-level="4.1" data-path="rct.html"><a href="rct.html#methodology"><i class="fa fa-check"></i><b>4.1</b> Methodology</a></li>
<li class="chapter" data-level="4.2" data-path="rct.html"><a href="rct.html#neyman-rubin-model"><i class="fa fa-check"></i><b>4.2</b> Neyman-Rubin Model</a></li>
<li class="chapter" data-level="4.3" data-path="rct.html"><a href="rct.html#selection-bias"><i class="fa fa-check"></i><b>4.3</b> Selection Bias</a></li>
<li class="chapter" data-level="4.4" data-path="rct.html"><a href="rct.html#question"><i class="fa fa-check"></i><b>4.4</b> Counterfactual Framework</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="rct.html"><a href="rct.html#defining-ate"><i class="fa fa-check"></i><b>4.4.1</b> Defining ATE</a></li>
<li class="chapter" data-level="4.4.2" data-path="rct.html"><a href="rct.html#defining-att"><i class="fa fa-check"></i><b>4.4.2</b> Defining ATT</a></li>
<li class="chapter" data-level="4.4.3" data-path="rct.html"><a href="rct.html#comparing-ate-and-att"><i class="fa fa-check"></i><b>4.4.3</b> Comparing ATE and ATT</a></li>
<li class="chapter" data-level="4.4.4" data-path="rct.html"><a href="rct.html#problem"><i class="fa fa-check"></i><b>4.4.4</b> Counterfactual Model</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="rct.html"><a href="rct.html#framework-and-assumptions"><i class="fa fa-check"></i><b>4.5</b> Framework and Assumptions</a></li>
<li class="chapter" data-level="4.6" data-path="rct.html"><a href="rct.html#caveats-and-difficulties"><i class="fa fa-check"></i><b>4.6</b> Caveats and Difficulties</a></li>
<li class="chapter" data-level="4.7" data-path="rct.html"><a href="rct.html#case-studies"><i class="fa fa-check"></i><b>4.7</b> Case Studies</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="rct.html"><a href="rct.html#labor-market-experiment"><i class="fa fa-check"></i><b>4.7.1</b> Labor Market Experiment</a></li>
<li class="chapter" data-level="4.7.2" data-path="rct.html"><a href="rct.html#corruption-in-indonesia"><i class="fa fa-check"></i><b>4.7.2</b> Corruption in Indonesia</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="iv.html"><a href="iv.html"><i class="fa fa-check"></i><b>5</b> Instrumental Variables</a>
<ul>
<li class="chapter" data-level="5.1" data-path="iv.html"><a href="iv.html#framework-and-assumptions-1"><i class="fa fa-check"></i><b>5.1</b> Framework and Assumptions</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="iv.html"><a href="iv.html#question-2"><i class="fa fa-check"></i><b>5.1.1</b> Question 2</a></li>
<li class="chapter" data-level="5.1.2" data-path="iv.html"><a href="iv.html#question-3"><i class="fa fa-check"></i><b>5.1.2</b> Question 3</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="iv.html"><a href="iv.html#section-2-applied-problems"><i class="fa fa-check"></i><b>5.2</b> Section 2: Applied Problems</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="iv.html"><a href="iv.html#question-1-iv-regression-with-simulated-data"><i class="fa fa-check"></i><b>5.2.1</b> Question 1 (IV Regression with Simulated Data)</a></li>
<li class="chapter" data-level="5.2.2" data-path="iv.html"><a href="iv.html#question-2-colonial-origins-of-comparative-development-ajr"><i class="fa fa-check"></i><b>5.2.2</b> Question 2 (Colonial Origins of Comparative Development, AJR)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rdd.html"><a href="rdd.html"><i class="fa fa-check"></i><b>6</b> Regression Discontinuity Design</a></li>
<li class="chapter" data-level="7" data-path="did.html"><a href="did.html"><i class="fa fa-check"></i><b>7</b> Difference-in-Differences</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Couscous: A Causal Inference Cookbook in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="iv" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Instrumental Variables<a href="iv.html#iv" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="framework-and-assumptions-1" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Framework and Assumptions<a href="iv.html#framework-and-assumptions-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>Assumptions</strong><br />
Here, we discuss four assumptions that are necessary for a valid IV.</p>
<p><strong>Independence</strong>.
‘z’ is as good as randomly assigned.</p>
<p><strong>Exclusion Restriction</strong><br />
‘z’ does not affect ‘Y’ directly, or in another words, once we know ‘D’, we don’t need to know ‘z’.
<strong>Relevance</strong><br />
‘z’ has some power to influence the treatment.</p>
<p><strong>Monotonicity</strong>
subjects receiving the treatment assignment (‘z’ = 1) are more likely to actually get treated (‘D’ = 1), and there are no cases of ‘defiers’, that is people whom we don’t want to treat who actually get treated.</p>
<div id="question-2" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Question 2<a href="iv.html#question-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now, with these assumptions in mind, we can derive the two-stage least squares (2SLS) estimator in the mincer regression of return to schooling.</p>
<p>In the mis-specified Mincer regression, we have:</p>
<span class="math display">\[\begin{align}
Y_{i} &amp; = \alpha + \rho S_{i} + \eta_{i} \\
\eta_{i} &amp; = \gamma A_{i} + \nu_{i}
\end{align}\]</span>
<p>Suppose an IV ‘Z’ that is correlated with ‘S’, let’s estimate the model with ‘Z’.</p>
<span class="math display">\[\begin{align}
Cov(Y, Z) &amp; = Cov(\alpha + \rho S +  \gamma A + \nu, Z) \\
&amp; = \rho Cov(S, Z) + \gamma Cov(A, Z) + Cov(\nu, Z)
\end{align}\]</span>
<p>Now, suppose the two following conditions hold:</p>
<span class="math display">\[\begin{align}
&amp; 1.) \, Cov(S, Z) \neq 0 - \text{&quot;first stage&quot; exists. &#39;S&#39; and &#39;Z&#39; are correlated.} \\
&amp; 2.) \, Cov(A, Z) = Cov(\nu, Z) = 0 - \text{&quot;exclusion restriction&quot;.} \\
&amp; \text{&#39;Z&#39; is orthogonal to the factors in } \eta \text{, such as unobserved ability or structural disturbance term, } \eta .
\end{align}\]</span>
<span class="math display">\[\begin{align}
\rho_{IV} = \frac{Cov(Y, Z)}{Cov(S, Z)} = \rho
\end{align}\]</span>
<p>Summing up the above procedures, we have a structural model.</p>
<span class="math display">\[\begin{align}
Y_{i} &amp; = \alpha + \rho S_{i} + \eta_{i} \\
\eta_{i} &amp; = \gamma A_{i} + \nu_{i}
\end{align}\]</span>
<p>We have the first stage regression.</p>
<span class="math display">\[\begin{align}
S_{i} = \alpha + \rho Z_{i} + \zeta_{i}
\end{align}\]</span>
<span class="math display">\[\begin{align}
\text{By which we calculate the fitted value } \widehat{S}
\end{align}\]</span>
<p>And we have the second stage regression.</p>
<span class="math display">\[\begin{align}
Y_{i} = \alpha + \rho S_{i} + \nu_{i}
\end{align}\]</span>
<p>Finally, we can calculate the Wald estimator, which is exactly the two-stage least square (2SLS) estimator.</p>
<span class="math display">\[\begin{align}
\rho_{IV} = \frac{Cov(Y, Z)}{Cov(S, Z)} = \rho
\end{align}\]</span>
</div>
<div id="question-3" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Question 3<a href="iv.html#question-3" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s examine the validity of bad weather as an IV in studying the effect of the scale of street protests on policy changes. We assess the four assumptions that are necessary for a valid IV.<br />
</p>
<p>a.) <strong>Independence</strong>: bad weather is somewhat randomly assigned, however nowadays with good weather forecasts people can have numerical expectations on weather, thus the covariance of bad weather with protests may not be zero. Therefore independence is questionable.<br />
b.) <strong>Exclusion Restriction</strong>: bad weather does not affect policy directly. Therefore, this assumption is fulfilled.<br />
c.) <strong>Relevance</strong>: bad weather has some power to influence the treatment, that is the protests. Thus, this assumption is fulfilled.<br />
d.) <strong>Monotonicity</strong>: subjects receiving bad weather assignment (‘z’ = 1) are less likely to actually do protests (‘D’ = 1), and there could be ‘defiers’. The problem is that nowadays any type of policy can receive ‘soft form protests’ through social media, and if taken to the extreme, public officials can receive backlash in certain cases. Thus, there will be no ‘pure’ instance of policy without treatment.</p>
</div>
</div>
<div id="section-2-applied-problems" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Section 2: Applied Problems<a href="iv.html#section-2-applied-problems" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="question-1-iv-regression-with-simulated-data" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Question 1 (IV Regression with Simulated Data)<a href="iv.html#question-1-iv-regression-with-simulated-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this exercise, we will generate some data and then use them to show how IVs work in regression. Let’s first load the package “MASS” which has a multivariate normal distribution function mvrnorm().</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="iv.html#cb68-1" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(MASS))</span></code></pre></div>
<p>We also load the package “AER” which will be used to conduct IV regression.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="iv.html#cb69-1" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(AER))</span></code></pre></div>
<p>Additionally, we will load the package “stargazer” to create regression tables.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="iv.html#cb70-1" tabindex="-1"></a><span class="fu">suppressMessages</span>(<span class="fu">library</span>(stargazer))</span></code></pre></div>
<p>Finally, we have to load all the data set for this problem set.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="iv.html#cb71-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;~/R_Programming/ECON3284/ProblemSet3&quot;</span>)</span>
<span id="cb71-2"><a href="iv.html#cb71-2" tabindex="-1"></a>ajr <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">file.path</span>(<span class="fu">getwd</span>(), <span class="st">&quot;ajr.csv&quot;</span>))</span></code></pre></div>
<div id="part-a-simulating-data-for-iv-regression" class="section level4 hasAnchor" number="5.2.1.1">
<h4><span class="header-section-number">5.2.1.1</span> Part A (Simulating Data for IV Regression)<a href="iv.html#part-a-simulating-data-for-iv-regression" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We simulate data for two-stage least squares estimation using the following procedure:</p>
<p>i.) We set the seed of the random number generator to 1234.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="iv.html#cb72-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1234</span>)</span></code></pre></div>
<p>ii.) We first define a variable called ‘n’ to use as our sample size.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="iv.html#cb73-1" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">1000</span></span></code></pre></div>
<p>iii.) We create a matrix called Rho that will serve as the variance covariance
matrix of the error terms ‘e’ and ‘v’ in the simulation. Set the variance
of each to ‘1’ and the correlation between them to ‘0.5’.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="iv.html#cb74-1" tabindex="-1"></a>Rho <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="dv">1</span>), <span class="dv">2</span>, <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>iv.) We make ‘n’ bivariate normal draws with mean zero and variance-covariance matrix ‘Rho’. We store the result as ‘sims’.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="iv.html#cb75-1" tabindex="-1"></a>sims <span class="ot">&lt;-</span> <span class="fu">mvrnorm</span>(n, <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), Rho)</span></code></pre></div>
<p>v.) We extract the first column of ‘sims’ and store it as a vector called ‘e’. Then,
we extract the second column and store it as a vector called ‘v’.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="iv.html#cb76-1" tabindex="-1"></a>e <span class="ot">&lt;-</span> sims[,<span class="dv">1</span>] ; v <span class="ot">&lt;-</span> sims[,<span class="dv">2</span>]</span></code></pre></div>
<p>vi.) We make ‘n’ Uniform(0,1) random draws and store the result in a vector called ‘z’.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="iv.html#cb77-1" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="fu">runif</span>(n)</span></code></pre></div>
<p>vii.) We generate a vector called ‘x’ using the IV first-stage equation with pi
zero = 0.5 and pi one = 0.08.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="iv.html#cb78-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fl">0.5</span> <span class="sc">+</span> <span class="fl">0.8</span> <span class="sc">*</span> z <span class="sc">+</span> v</span></code></pre></div>
<p>viii.) We generate a vector called ‘y’ using the IV structural equation with beta
zero = -0.3 and beta one = 1.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="iv.html#cb79-1" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="sc">-</span><span class="fl">0.3</span> <span class="sc">+</span> x <span class="sc">+</span> e</span></code></pre></div>
</div>
<div id="part-b-ordinary-least-squares" class="section level4 hasAnchor" number="5.2.1.2">
<h4><span class="header-section-number">5.2.1.2</span> Part B (Ordinary Least Squares)<a href="iv.html#part-b-ordinary-least-squares" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>At this stage, we run an OLS regression of ‘y’ on ‘x’.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="iv.html#cb80-1" tabindex="-1"></a>ols_results <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> x)</span>
<span id="cb80-2"><a href="iv.html#cb80-2" tabindex="-1"></a><span class="fu">stargazer</span>(ols_results, <span class="at">type =</span> <span class="st">&#39;html&#39;</span>, <span class="at">omit.stat =</span> <span class="fu">c</span>(<span class="st">&#39;f&#39;</span>, <span class="st">&#39;ser&#39;</span>), <span class="at">header =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
y
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
x
</td>
<td>
1.461<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.025)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
-0.740<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.035)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
1,000
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.767
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.767
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p><br />
These results do not give the causal effect of ‘x’ on ‘y’ because when we first defined ‘x’ and ‘y’, we used the error terms ‘e’ and ‘v’. These two error terms, by design, were correlated with each other, and that means we may overestimate or underestimate the correlation between ‘x’ and ‘y’.</p>
</div>
<div id="part-c-two-stage-least-squares-by-hand" class="section level4 hasAnchor" number="5.2.1.3">
<h4><span class="header-section-number">5.2.1.3</span> Part C (Two Stage Least Squares by Hand)<a href="iv.html#part-c-two-stage-least-squares-by-hand" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>i.) Here we first run an OLS regression of ‘x’ on ‘z’ store the result as ‘first_stage’.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="iv.html#cb81-1" tabindex="-1"></a>first_stage_q1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(x <span class="sc">~</span> z)</span>
<span id="cb81-2"><a href="iv.html#cb81-2" tabindex="-1"></a><span class="fu">stargazer</span>(first_stage_q1, <span class="at">type =</span> <span class="st">&#39;html&#39;</span>, <span class="at">omit.stat =</span> <span class="fu">c</span>(<span class="st">&#39;f&#39;</span>, <span class="st">&#39;ser&#39;</span>), <span class="at">header =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
x
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
z
</td>
<td>
0.819<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.110)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
0.475<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.064)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
1,000
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.053
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.052
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p><br />
ii.) Then, we run an OLS regression of ‘y’ on ‘z’ and store the result as ‘reduced_form’.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="iv.html#cb82-1" tabindex="-1"></a>reduced_form_q1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(y <span class="sc">~</span> z)</span>
<span id="cb82-2"><a href="iv.html#cb82-2" tabindex="-1"></a><span class="fu">stargazer</span>(reduced_form_q1, <span class="at">type =</span> <span class="st">&#39;html&#39;</span>, <span class="at">omit.stat =</span> <span class="fu">c</span>(<span class="st">&#39;f&#39;</span>, <span class="st">&#39;ser&#39;</span>), <span class="at">header =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
y
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
z
</td>
<td>
0.785<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.187)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
0.162
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.109)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
1,000
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.017
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.016
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p><br />
iii.) Now, we divide the slope from ‘reduced_form’ by the slope from ‘first_stage’.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="iv.html#cb83-1" tabindex="-1"></a><span class="fu">summary</span>(reduced_form_q1)<span class="sc">$</span>coefficients[<span class="dv">2</span>] <span class="sc">/</span></span>
<span id="cb83-2"><a href="iv.html#cb83-2" tabindex="-1"></a><span class="fu">summary</span>(first_stage_q1)<span class="sc">$</span>coefficients[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 0.9582441</code></pre>
<p>iv.) What we have done in the previous steps is compute the first stage of a 2SLS model, along with a reduced form of the model. We then extract the two betas, and dividing the reduced form by the first stage estimator, we calculate the Wald estimator which is actually precisely the so-called 2SLS estimator.</p>
</div>
<div id="part-d-iv-regression" class="section level4 hasAnchor" number="5.2.1.4">
<h4><span class="header-section-number">5.2.1.4</span> Part D (IV Regression)<a href="iv.html#part-d-iv-regression" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>i.) Here, we use ‘ivreg’ to carry out IV regression that we did by hand in the preceding exercise and then store the results as ‘iv_results’.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="iv.html#cb85-1" tabindex="-1"></a>iv_results <span class="ot">&lt;-</span> <span class="fu">ivreg</span>(y <span class="sc">~</span> x <span class="sc">|</span> z)</span></code></pre></div>
<p>ii.) Then we display the IV results using ‘stargazer’.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="iv.html#cb86-1" tabindex="-1"></a><span class="fu">stargazer</span>(iv_results, <span class="at">type =</span> <span class="st">&#39;html&#39;</span>, <span class="at">omit.stat =</span> <span class="fu">c</span>(<span class="st">&#39;f&#39;</span>, <span class="st">&#39;ser&#39;</span>), <span class="at">header =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
y
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
x
</td>
<td>
0.958<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.131)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
-0.293<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.121)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
1,000
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.676
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.676
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p><br />
iii.) Additionally, we calculate an approximate 95% confidence interval for the causal effect of ‘x’ on ‘y’ using ‘iv_results’.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="iv.html#cb87-1" tabindex="-1"></a><span class="fu">confint</span>(iv_results, <span class="at">parm =</span> <span class="st">&#39;x&#39;</span>, <span class="at">level =</span> <span class="fl">0.95</span>)</span></code></pre></div>
<pre><code>##      2.5 %  97.5 %
## x 0.701438 1.21505</code></pre>
<p>iv.) If we view the results in part C and D, we will find that we obtain the same causality from the manual 2SLS approach and the direct ‘ivreg’ function.</p>
</div>
</div>
<div id="question-2-colonial-origins-of-comparative-development-ajr" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Question 2 (Colonial Origins of Comparative Development, AJR)<a href="iv.html#question-2-colonial-origins-of-comparative-development-ajr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In this exercise, we’ll work with a data set from the paper ‘The Colonial Origins of Comparative Development’ by Acemoglu, Johnson, and Robinson. I’ll refer the paper as AJR in the rest of this document.</p>
<div id="part-a-background" class="section level4 hasAnchor" number="5.2.2.1">
<h4><span class="header-section-number">5.2.2.1</span> Part A (Background)<a href="iv.html#part-a-background" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>i.) AJR tries to answer the effect of institutions on income per capita.<br />
</p>
<p>ii.) The core of AJR’s theory is based on several things. Firstly, they separate countries based on types of European colonization styles that they encountered in the past. They argued that places with higher feasibility of settlement allowed historical Europeans to construct proper European-style institutions with a focus on private property and checks against government power. Countries that fall into this category include Australia, New Zealand, Canada, and the United States. However, if the colonizers viewed a region to be difficult, then they would set up ‘extraction states’ that served a purpose of sending back resources to the colonialists’ mainland. Therefore, summarizing the logic, it can be depicted as follows:<br />
(potential) settler mortality –&gt; settlements –&gt; early institutions –&gt; current institutions –&gt; current –&gt; performance.<br />
</p>
<p>iii.) For ‘z’ to be a valid instrument, it must satisfy two key assumptions. First it must be relevant: correlated with ‘x’. Second, it must be excluded: it must only be related to y through its effect on ‘x’. In the context of AJR, these assumptions mean that settler mortality must be correlated with the availability of institutions, and it must only be related with GDP per capita through its effects on the availability of institutions.</p>
</div>
<div id="part-b-ols-regression" class="section level4 hasAnchor" number="5.2.2.2">
<h4><span class="header-section-number">5.2.2.2</span> Part B (OLS Regression)<a href="iv.html#part-b-ols-regression" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>i.) First we regress ‘loggdp’ on ‘risk’ and store the result in an object called “ols”.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="iv.html#cb89-1" tabindex="-1"></a>ols <span class="ot">&lt;-</span> <span class="fu">lm</span>(loggdp <span class="sc">~</span> risk, <span class="at">data =</span> ajr)</span></code></pre></div>
<p>ii.) Then we display the model summary.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="iv.html#cb90-1" tabindex="-1"></a><span class="fu">stargazer</span>(ols, <span class="at">type =</span> <span class="st">&#39;html&#39;</span>, <span class="at">omit.stat =</span> <span class="fu">c</span>(<span class="st">&#39;f&#39;</span>, <span class="st">&#39;ser&#39;</span>), <span class="at">header =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
loggdp
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
risk
</td>
<td>
0.505<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.062)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
4.731<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.415)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
62
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.523
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.515
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p><br />
iii.) We can’t interpret the results of ‘ols’ causally because we know the possibility of better institutions resulting in better developed countries; however, countries with high GDP or income can afford better institutions. Therefore, there is a simultaneous causality bias i.e ‘x’ causes ‘y’ and ‘y’ causes ‘x’. Additionally, there are many omitted determinants of income differences that will naturally be correlated with institutions. Finally, the measures of institutions are constructed ex
post, and the analysts may have had a natural bias in seeing better institutions in richer places. As well as these problems introducing positive bias in the OLS estimates, the fact that the institutions variable is measured with considerable error and corresponds poorly to the “cluster of institutions” that matter in practice creates
attenuation and may bias the OLS estimates downwards.</p>
</div>
<div id="part-c-iv-regression" class="section level4 hasAnchor" number="5.2.2.3">
<h4><span class="header-section-number">5.2.2.3</span> Part C (IV Regression)<a href="iv.html#part-c-iv-regression" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>i.) Now, we estimate the first-stage regression of ‘risk’ on ‘logmort0’ and store our results in an object called “first_stage”.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="iv.html#cb91-1" tabindex="-1"></a>first_stage <span class="ot">&lt;-</span> <span class="fu">lm</span>(risk <span class="sc">~</span> logmort0, <span class="at">data =</span> ajr)</span></code></pre></div>
<p>Then we display this model’s summary.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="iv.html#cb92-1" tabindex="-1"></a><span class="fu">stargazer</span>(first_stage, <span class="at">type =</span> <span class="st">&#39;html&#39;</span>, <span class="at">omit.stat =</span> <span class="fu">c</span>(<span class="st">&#39;f&#39;</span>, <span class="st">&#39;ser&#39;</span>), <span class="at">header =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
risk
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
logmort0
</td>
<td>
-0.620<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.131)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
9.388<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.633)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
62
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.272
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.260
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p><br />
ii.) We estimate the reduced-form regression of ‘loggdp’ on ‘logmort0’ and we store our results in an object called ‘reduced_form’.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="iv.html#cb93-1" tabindex="-1"></a>reduced_form <span class="ot">&lt;-</span> <span class="fu">lm</span>(loggdp <span class="sc">~</span> logmort0, <span class="at">data =</span> ajr)</span></code></pre></div>
<p>Then we display this model’s summary.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="iv.html#cb94-1" tabindex="-1"></a><span class="fu">stargazer</span>(reduced_form, <span class="at">type =</span> <span class="st">&#39;html&#39;</span>, <span class="at">omit.stat =</span> <span class="fu">c</span>(<span class="st">&#39;f&#39;</span>, <span class="st">&#39;ser&#39;</span>), <span class="at">header =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
loggdp
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
logmort0
</td>
<td>
-0.561<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.079)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
10.634<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.382)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
62
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.457
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.448
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p><br />
iii.) Additionally, we use the ‘ivreg’ function from ‘AER’ to carry out an IV regression of ‘loggdp’ on ‘risk’ using ‘logmort0’ as an instrument for ‘risk’ and then store our results in an object called ‘iv’.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="iv.html#cb95-1" tabindex="-1"></a>iv <span class="ot">&lt;-</span> <span class="fu">ivreg</span>(loggdp <span class="sc">~</span> risk <span class="sc">|</span> logmort0, <span class="at">data =</span> ajr)</span></code></pre></div>
<p>We also display this model’s summary.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="iv.html#cb96-1" tabindex="-1"></a><span class="fu">stargazer</span>(iv, <span class="at">type =</span> <span class="st">&#39;html&#39;</span>, <span class="at">omit.stat =</span> <span class="fu">c</span>(<span class="st">&#39;f&#39;</span>, <span class="st">&#39;ser&#39;</span>), <span class="at">header =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
loggdp
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
risk
</td>
<td>
0.905<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.155)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
2.135<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1.014)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
62
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.195
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.181
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p><br />
iv.) Looking at the summary of ‘iv’, the results are actually larger compared to ‘ols’, i.e ‘risk’ has higher causality.</p>
<p>v.) If we use the manual 2SLS approach with ‘first_stage’ and ‘reduced_form’, we will also get the same result.</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="iv.html#cb97-1" tabindex="-1"></a><span class="fu">summary</span>(reduced_form)<span class="sc">$</span>coefficients[<span class="dv">2</span>] <span class="sc">/</span> <span class="fu">summary</span>(first_stage)<span class="sc">$</span>coefficients[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 0.9052929</code></pre>
</div>
<div id="part-d-critique" class="section level4 hasAnchor" number="5.2.2.4">
<h4><span class="header-section-number">5.2.2.4</span> Part D (Critique)<a href="iv.html#part-d-critique" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Let’s consider a potential criticism of AJR. The critique depends on two claims.<br />
Claim #1: a country’s current disease environment, e.g. the prevalence of malaria, is an important determinant of GDP/capita.<br />
Claim #2: a country’s disease environment today depends on its disease environment in the past, which in turn affected early European settler mortality.<br />
</p>
<p>i.) Both claims taken together would call into question the IV results from Part C above as initially we would combine ‘malaria’ into ‘u’, i.e the noise factor. This is problematic because that means a part of ‘u’ is actually correlated with our IV, making it invalid. Also, it means that a part of ‘u’ actually causes higher GDP, and therefore we are missing an important component.<br />
</p>
<p>ii.) We should consider re-running our IV analysis from Part C including malaria as an additional regressor because hopefully, as we separate malaria from ‘u’, we can get an IV that is not correlated with ‘u’.<br />
</p>
<p>iii.) Here, we repeat Part B including malaria as an additional regressor.</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="iv.html#cb99-1" tabindex="-1"></a>updated_ols <span class="ot">&lt;-</span> <span class="fu">lm</span>(loggdp <span class="sc">~</span> risk <span class="sc">+</span> malaria, <span class="at">data =</span> ajr)</span></code></pre></div>
<p>We display the results in the following table.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="iv.html#cb100-1" tabindex="-1"></a><span class="fu">stargazer</span>(updated_ols, <span class="at">type =</span> <span class="st">&#39;html&#39;</span>, <span class="at">omit.stat =</span> <span class="fu">c</span>(<span class="st">&#39;f&#39;</span>, <span class="st">&#39;ser&#39;</span>), <span class="at">header =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
loggdp
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
risk
</td>
<td>
0.339<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.055)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
malaria
</td>
<td>
-1.145<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.183)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
6.296<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.409)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
62
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.714
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.704
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p><br />
iv.) Then, we repeat the first section of Part C, adding malaria to the first-stage regression.</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="iv.html#cb101-1" tabindex="-1"></a>updated_first_stage <span class="ot">&lt;-</span> <span class="fu">lm</span>(risk <span class="sc">+</span> malaria <span class="sc">~</span> logmort0 <span class="sc">+</span> malaria, <span class="at">data =</span> ajr)</span></code></pre></div>
<p>We display the results in the following table.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="iv.html#cb102-1" tabindex="-1"></a><span class="fu">stargazer</span>(updated_first_stage, <span class="at">type =</span> <span class="st">&#39;html&#39;</span>, <span class="at">omit.stat =</span> <span class="fu">c</span>(<span class="st">&#39;f&#39;</span>, <span class="st">&#39;ser&#39;</span>), <span class="at">header =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
risk + malaria
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
logmort0
</td>
<td>
-0.438<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.188)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
malaria
</td>
<td>
0.304
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.522)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
8.834<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.754)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
62
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.119
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.089
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p><br />
v.) Additionally, we also repeat the third section of Part C, including malaria in the IV regression. We treat malaria as exogenous.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="iv.html#cb103-1" tabindex="-1"></a>updated_iv <span class="ot">&lt;-</span> <span class="fu">ivreg</span>(loggdp <span class="sc">~</span> risk <span class="sc">+</span> malaria <span class="sc">|</span> logmort0 <span class="sc">+</span> malaria, <span class="at">data =</span> ajr)</span></code></pre></div>
<p>We display the results in the following table.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="iv.html#cb104-1" tabindex="-1"></a><span class="fu">stargazer</span>(updated_iv, <span class="at">type =</span> <span class="st">&#39;html&#39;</span>, <span class="at">omit.stat =</span> <span class="fu">c</span>(<span class="st">&#39;f&#39;</span>, <span class="st">&#39;ser&#39;</span>), <span class="at">header =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="1" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
loggdp
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
risk
</td>
<td>
0.589<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.222)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
malaria
</td>
<td>
-0.751<sup>*</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(0.396)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
4.505<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1.591)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
62
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.615
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.602
</td>
</tr>
<tr>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td style="text-align:right">
<sup><em></sup>p&lt;0.1; <sup><strong></sup>p&lt;0.05; <sup></strong></em></sup>p&lt;0.01
</td>
</tr>
</table>
<p><br />
vi.) The criticism of AJR based on a country’s disease environment is valid, because here we can clearly see that institutions as a causal factor is comparably weaker in this model as we add malaria as an additional regressor.</p>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="rct.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rdd.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
